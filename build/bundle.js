var app=function(){"use strict";function t(){}function n(t,n){for(const e in n)t[e]=n[e];return t}function e(t){return t()}function o(){return Object.create(null)}function c(t){t.forEach(e)}function r(t){return"function"==typeof t}function i(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function l(t){const n={};for(const e in t)"$"!==e[0]&&(n[e]=t[e]);return n}function s(t,n){t.appendChild(n)}function a(t,n,e){t.insertBefore(n,e||null)}function u(t){t.parentNode.removeChild(t)}function f(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function d(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function m(){return p(" ")}function g(t,n,e,o){return t.addEventListener(n,e,o),()=>t.removeEventListener(n,e,o)}function $(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function h(t,n){n=""+n,t.data!==n&&(t.data=n)}function v(t,n){t.value=null==n?"":n}let b;function x(t){b=t}function y(){const t=function(){if(!b)throw new Error("Function called outside component initialization");return b}();return(n,e)=>{const o=t.$$.callbacks[n];if(o){const c=function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);o.slice().forEach(n=>{n.call(t,c)})}}}const C=[],O=[],E=[],k=[],w=Promise.resolve();let N=!1;function S(t){E.push(t)}function _(t){k.push(t)}let j=!1;const A=new Set;function I(){if(!j){j=!0;do{for(let t=0;t<C.length;t+=1){const n=C[t];x(n),D(n.$$)}for(C.length=0;O.length;)O.pop()();for(let t=0;t<E.length;t+=1){const n=E[t];A.has(n)||(A.add(n),n())}E.length=0}while(C.length);for(;k.length;)k.pop()();N=!1,j=!1,A.clear()}}function D(t){if(null!==t.fragment){t.update(),c(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(S)}}const P=new Set;let B;function F(){B={r:0,c:[],p:B}}function J(){B.r||c(B.c),B=B.p}function T(t,n){t&&t.i&&(P.delete(t),t.i(n))}function L(t,n,e,o){if(t&&t.o){if(P.has(t))return;P.add(t),B.c.push(()=>{P.delete(t),o&&(e&&t.d(1),o())}),t.o(n)}}function M(t,n,e){const o=t.$$.props[n];void 0!==o&&(t.$$.bound[o]=e,e(t.$$.ctx[o]))}function R(t){t&&t.c()}function K(t,n,o){const{fragment:i,on_mount:l,on_destroy:s,after_update:a}=t.$$;i&&i.m(n,o),S(()=>{const n=l.map(e).filter(r);s?s.push(...n):c(n),t.$$.on_mount=[]}),a.forEach(S)}function V(t,n){const e=t.$$;null!==e.fragment&&(c(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function q(t,n){-1===t.$$.dirty[0]&&(C.push(t),N||(N=!0,w.then(I)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function z(n,e,r,i,l,s,a=[-1]){const f=b;x(n);const d=e.props||{},p=n.$$={fragment:null,ctx:null,props:s,update:t,not_equal:l,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:[]),callbacks:o(),dirty:a};let m=!1;if(p.ctx=r?r(n,d,(t,e,...o)=>{const c=o.length?o[0]:e;return p.ctx&&l(p.ctx[t],p.ctx[t]=c)&&(p.bound[t]&&p.bound[t](c),m&&q(n,t)),e}):[],p.update(),m=!0,c(p.before_update),p.fragment=!!i&&i(p.ctx),e.target){if(e.hydrate){const t=function(t){return Array.from(t.childNodes)}(e.target);p.fragment&&p.fragment.l(t),t.forEach(u)}else p.fragment&&p.fragment.c();e.intro&&T(n.$$.fragment),K(n,e.target,e.anchor),I()}x(f)}class G{$destroy(){V(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}function U(n){let e,o,c,r,i,l,f,b;return{c(){e=d("div"),o=d("label"),c=p(n[1]),r=m(),i=d("input"),$(o,"class","flex-auto"),$(i,"type","text"),$(e,"class",l=n[2].class)},m(t,l){a(t,e,l),s(e,o),s(o,c),s(e,r),s(e,i),v(i,n[0]),f||(b=g(i,"input",n[3]),f=!0)},p(t,[n]){2&n&&h(c,t[1]),1&n&&i.value!==t[0]&&v(i,t[0]),4&n&&l!==(l=t[2].class)&&$(e,"class",l)},i:t,o:t,d(t){t&&u(e),f=!1,b()}}}function W(t,e,o){const c=y();let{text:r}=e,{value:i=r}=e;return t.$set=t=>{o(2,e=n(n({},e),l(t))),"text"in t&&o(1,r=t.text),"value"in t&&o(0,i=t.value)},t.$$.update=()=>{1&t.$$.dirty&&i&&c("save",i)},e=l(e),[i,r,e,function(){i=this.value,o(0,i)}]}class H extends G{constructor(t){super(),z(this,t,W,U,i,{text:1,value:0})}}var Q={client:{codigoCta:"Codigo Cta*",descripcion:"Descripcion*",saldoInicial:"Saldo Inicial",nif:"NIF",nombre:"Nombre",siglas:"Siglas",via:"Via",numero:"Numero",escalera:"Escalera",piso:"Piso",puerta:"Puerta",cp:"CP",municipio:"Municipio",provicia:"Provicia",pais:"Pais"},bills:[{numero:"M2019-041",expedicion:"2/27/2019",op:"",fra:"",vto:"",cuenta:"4300000",nif:"0000000T",cliente:"CLIENTES DE CONTADO",descripcion:"",base:"1,953.76 €",iva:"6.50",cuota:"126.99 €",recargo:"",re:"",retencion:"",irpf:"",contrap:"7050001",nombre:"PRESTACION DE SERVICIOS",tipo:"1",modelo:"1",rectificativa:"",rect:"",numeroRect:"",sii:"",conceptoSii:"",ticketInicial:"",ticketFinal:"",numeroDoc:"",cp:"",pais:"",binversio:""}],transactions:[{fecha:"1/1/2019",cuenta:"572",nombre:"",descripcion:"Pago Factura",referencia:"",importe:"100",cuentaContrapartida:"41000001",nombre:""}]};function X(t,n,e){const o=t.slice();return o[6]=n[e][0],o[7]=n[e][1],o}function Y(t){let n,e,o;function c(n){t[4].call(null,n,t[6])}let r={class:"flex",text:t[7]};return void 0!==t[0][t[6]]&&(r.value=t[0][t[6]]),n=new H({props:r}),O.push(()=>M(n,"value",c)),{c(){R(n.$$.fragment)},m(t,e){K(n,t,e),o=!0},p(o,c){t=o;const r={};!e&&3&c&&(e=!0,r.value=t[0][t[6]],_(()=>e=!1)),n.$set(r)},i(t){o||(T(n.$$.fragment,t),o=!0)},o(t){L(n.$$.fragment,t),o=!1},d(t){V(n,t)}}}function Z(t){let n,e,o,c,r,i,l=Object.entries(t[1]),s=[];for(let n=0;n<l.length;n+=1)s[n]=Y(X(t,l,n));const p=t=>L(s[t],1,1,()=>{s[t]=null});return{c(){n=d("button"),n.textContent="BACK",e=m(),o=d("div");for(let t=0;t<s.length;t+=1)s[t].c();$(o,"class","")},m(l,u){a(l,n,u),a(l,e,u),a(l,o,u);for(let t=0;t<s.length;t+=1)s[t].m(o,null);c=!0,r||(i=g(n,"click",t[3]),r=!0)},p(t,[n]){if(3&n){let e;for(l=Object.entries(t[1]),e=0;e<l.length;e+=1){const c=X(t,l,e);s[e]?(s[e].p(c,n),T(s[e],1)):(s[e]=Y(c),s[e].c(),T(s[e],1),s[e].m(o,null))}for(F(),e=l.length;e<s.length;e+=1)p(e);J()}},i(t){if(!c){for(let t=0;t<l.length;t+=1)T(s[t]);c=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)L(s[t]);c=!1},d(t){t&&u(n),t&&u(e),t&&u(o),f(s,t),r=!1,i()}}}function tt(t,n,e){const o=y();let{client:c={}}=n,r=Q.client;const i=t=>{o("save",t)};return t.$set=t=>{"client"in t&&e(0,c=t.client)},[c,r,i,()=>i(),function(t,n){c[n]=t,e(0,c)}]}class nt extends G{constructor(t){super(),z(this,t,tt,Z,i,{client:0})}}function et(t,n,e){const o=t.slice();return o[7]=n[e][0],o[8]=n[e][1],o}function ot(t){let n,e,o;function c(n){t[4].call(null,n,t[7])}let r={class:"flex",text:t[8]};return void 0!==t[0][t[7]]&&(r.value=t[0][t[7]]),n=new H({props:r}),O.push(()=>M(n,"value",c)),n.$on("save",t[5]),{c(){R(n.$$.fragment)},m(t,e){K(n,t,e),o=!0},p(o,c){t=o;const r={};!e&&3&c&&(e=!0,r.value=t[0][t[7]],_(()=>e=!1)),n.$set(r)},i(t){o||(T(n.$$.fragment,t),o=!0)},o(t){L(n.$$.fragment,t),o=!1},d(t){V(n,t)}}}function ct(t){let n,e,o,c,r,i,l=Object.entries(t[1]),p=[];for(let n=0;n<l.length;n+=1)p[n]=ot(et(t,l,n));const $=t=>L(p[t],1,1,()=>{p[t]=null});return{c(){n=d("main"),e=d("button"),e.textContent="BACK",o=m();for(let t=0;t<p.length;t+=1)p[t].c()},m(l,u){a(l,n,u),s(n,e),s(n,o);for(let t=0;t<p.length;t+=1)p[t].m(n,null);c=!0,r||(i=g(e,"click",t[3]),r=!0)},p(t,[e]){if(7&e){let o;for(l=Object.entries(t[1]),o=0;o<l.length;o+=1){const c=et(t,l,o);p[o]?(p[o].p(c,e),T(p[o],1)):(p[o]=ot(c),p[o].c(),T(p[o],1),p[o].m(n,null))}for(F(),o=l.length;o<p.length;o+=1)$(o);J()}},i(t){if(!c){for(let t=0;t<l.length;t+=1)T(p[t]);c=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)L(p[t]);c=!1},d(t){t&&u(n),f(p,t),r=!1,i()}}}function rt(t,n,e){const o=y();let{account:c={}}=n,r=Q.bills[0];const i=t=>{o("save",t)};return t.$set=t=>{"account"in t&&e(0,c=t.account)},[c,r,i,()=>i(),function(t,n){c[n]=t,e(0,c)},()=>i(c)]}class it extends G{constructor(t){super(),z(this,t,rt,ct,i,{account:0})}}function lt(t,n,e){const o=t.slice();return o[7]=n[e][0],o[8]=n[e][1],o}function st(t){let n,e,o;function c(n){t[4].call(null,n,t[7])}let r={class:"flex",text:t[8]};return void 0!==t[0][t[7]]&&(r.value=t[0][t[7]]),n=new H({props:r}),O.push(()=>M(n,"value",c)),n.$on("save",t[5]),{c(){R(n.$$.fragment)},m(t,e){K(n,t,e),o=!0},p(o,c){t=o;const r={};2&c&&(r.text=t[8]),!e&&3&c&&(e=!0,r.value=t[0][t[7]],_(()=>e=!1)),n.$set(r)},i(t){o||(T(n.$$.fragment,t),o=!0)},o(t){L(n.$$.fragment,t),o=!1},d(t){V(n,t)}}}function at(t){let n,e,o,c,r,i,l=Object.entries(t[1]),p=[];for(let n=0;n<l.length;n+=1)p[n]=st(lt(t,l,n));const $=t=>L(p[t],1,1,()=>{p[t]=null});return{c(){n=d("main"),e=d("button"),e.textContent="BACK",o=m();for(let t=0;t<p.length;t+=1)p[t].c()},m(l,u){a(l,n,u),s(n,e),s(n,o);for(let t=0;t<p.length;t+=1)p[t].m(n,null);c=!0,r||(i=g(e,"click",t[3]),r=!0)},p(t,[e]){if(7&e){let o;for(l=Object.entries(t[1]),o=0;o<l.length;o+=1){const c=lt(t,l,o);p[o]?(p[o].p(c,e),T(p[o],1)):(p[o]=st(c),p[o].c(),T(p[o],1),p[o].m(n,null))}for(F(),o=l.length;o<p.length;o+=1)$(o);J()}},i(t){if(!c){for(let t=0;t<l.length;t+=1)T(p[t]);c=!0}},o(t){p=p.filter(Boolean);for(let t=0;t<p.length;t+=1)L(p[t]);c=!1},d(t){t&&u(n),f(p,t),r=!1,i()}}}function ut(t,n,e){const o=y();let{transaction:c=Q.transactions[0]||{}}=n,{translate:r=Q.transactions[0]}=n;const i=t=>{o("save",t)};return t.$set=t=>{"transaction"in t&&e(0,c=t.transaction),"translate"in t&&e(1,r=t.translate)},[c,r,i,()=>i(),function(t,n){c[n]=t,e(0,c)},()=>i(c)]}class ft extends G{constructor(t){super(),z(this,t,ut,at,i,{transaction:0,translate:1})}}function dt(t){let n={};return Object.entries(t).map(([t,e])=>n[t]=e||t),n}function pt(t){return Object.values(t).map(t=>t).join(" ")}var mt={toDat:function(t,n,e){let o=dt(t),c=n.map(t=>dt(t)),r=e.map(t=>dt(t));return`${pt(o)}\n${c.map(t=>pt(t)).join("\r\n")}\n${r.map(t=>pt(t)).join("\r\n")}`}};function gt(n){let e,o,c,r,i,l,f,v,b,x;return{c(){e=d("div"),o=d("div"),c=p("Preview:\n      "),r=d("div"),i=p(n[0]),l=m(),f=d("div"),v=d("button"),v.textContent="DOWNLOAD",$(r,"class","bg-white whitespace-pre-wrap"),$(v,"class","bg-green-700 rounded-md m-1 p-1"),$(f,"class","text-center"),$(e,"class","p-2")},m(t,u){a(t,e,u),s(e,o),s(o,c),s(o,r),s(r,i),s(e,l),s(e,f),s(f,v),b||(x=g(v,"click",n[5]),b=!0)},p(t,[n]){1&n&&h(i,t[0])},i:t,o:t,d(t){t&&u(e),b=!1,x()}}}function $t(t,n,e){let o,{client:c={}}=n,{bills:r=[]}=n,{transactions:i=[]}=n;const l=(t,n)=>{var e=document.createElement("a");e.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(n)),e.setAttribute("download",t),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)};return t.$set=t=>{"client"in t&&e(2,c=t.client),"bills"in t&&e(3,r=t.bills),"transactions"in t&&e(4,i=t.transactions)},t.$$.update=()=>{28&t.$$.dirty&&e(0,o=mt.toDat(c,r,i))},[o,l,c,r,i,()=>l("FE.dat",o)]}class ht extends G{constructor(t){super(),z(this,t,$t,gt,i,{client:2,bills:3,transactions:4})}}function vt(t,n,e){const o=t.slice();return o[15]=n[e],o}function bt(t,n,e){const o=t.slice();return o[18]=n[e],o}function xt(t){let n,e,o,r,i,l,v,b,x,y,C,O,E,k,w,N,S,_,j,A,I,D,P,B,F,J,M=JSON.stringify(t[0])+"",q=t[1],z=[];for(let n=0;n<q.length;n+=1)z[n]=Et(bt(t,q,n));let G=t[2],U=[];for(let n=0;n<G.length;n+=1)U[n]=kt(vt(t,G,n));return P=new ht({props:{client:t[0],bills:t[1],transactions:t[2]}}),{c(){n=d("div"),e=d("p"),e.textContent="client",o=m(),r=d("div"),i=d("p"),l=p(M),v=m(),b=d("div"),x=p("Factura: "),y=d("button"),y.textContent="(+)",C=m(),O=d("div");for(let t=0;t<z.length;t+=1)z[t].c();E=m(),k=d("div"),w=p("Movimiento: "),N=d("button"),N.textContent="(+)",S=m(),_=d("div");for(let t=0;t<U.length;t+=1)U[t].c();j=m(),A=d("div"),I=p("Generator:\n      "),D=d("div"),R(P.$$.fragment),$(i,"class","break-all"),$(r,"class","flex bg-indigo-200"),$(n,"class","m-2"),$(O,"class","bg-orange-200"),$(b,"class","m-2"),$(_,"class","bg-red-200"),$(k,"class","m-2"),$(D,"class","bg-teal-200"),$(A,"class","m-2")},m(c,u){a(c,n,u),s(n,e),s(n,o),s(n,r),s(r,i),s(i,l),a(c,v,u),a(c,b,u),s(b,x),s(b,y),s(b,C),s(b,O);for(let t=0;t<z.length;t+=1)z[t].m(O,null);a(c,E,u),a(c,k,u),s(k,w),s(k,N),s(k,S),s(k,_);for(let t=0;t<U.length;t+=1)U[t].m(_,null);a(c,j,u),a(c,A,u),s(A,I),s(A,D),K(P,D,null),B=!0,F||(J=[g(r,"click",t[12]),g(y,"click",t[7]),g(N,"click",t[9])],F=!0)},p(t,n){if((!B||1&n)&&M!==(M=JSON.stringify(t[0])+"")&&h(l,M),10&n){let e;for(q=t[1],e=0;e<q.length;e+=1){const o=bt(t,q,e);z[e]?z[e].p(o,n):(z[e]=Et(o),z[e].c(),z[e].m(O,null))}for(;e<z.length;e+=1)z[e].d(1);z.length=q.length}if(20&n){let e;for(G=t[2],e=0;e<G.length;e+=1){const o=vt(t,G,e);U[e]?U[e].p(o,n):(U[e]=kt(o),U[e].c(),U[e].m(_,null))}for(;e<U.length;e+=1)U[e].d(1);U.length=G.length}const e={};1&n&&(e.client=t[0]),2&n&&(e.bills=t[1]),4&n&&(e.transactions=t[2]),P.$set(e)},i(t){B||(T(P.$$.fragment,t),B=!0)},o(t){L(P.$$.fragment,t),B=!1},d(t){t&&u(n),t&&u(v),t&&u(b),f(z,t),t&&u(E),t&&u(k),f(U,t),t&&u(j),t&&u(A),V(P),F=!1,c(J)}}}function yt(t){let n,e;return n=new ft({props:{transaction:t[4]}}),n.$on("save",t[8]),{c(){R(n.$$.fragment)},m(t,o){K(n,t,o),e=!0},p(t,e){const o={};16&e&&(o.transaction=t[4]),n.$set(o)},i(t){e||(T(n.$$.fragment,t),e=!0)},o(t){L(n.$$.fragment,t),e=!1},d(t){V(n,t)}}}function Ct(t){let n,e;return n=new it({props:{account:t[3]}}),n.$on("save",t[6]),{c(){R(n.$$.fragment)},m(t,o){K(n,t,o),e=!0},p(t,e){const o={};8&e&&(o.account=t[3]),n.$set(o)},i(t){e||(T(n.$$.fragment,t),e=!0)},o(t){L(n.$$.fragment,t),e=!1},d(t){V(n,t)}}}function Ot(t){let n,e,o;function c(n){t[10].call(null,n)}let r={};return void 0!==t[0]&&(r.client=t[0]),n=new nt({props:r}),O.push(()=>M(n,"client",c)),n.$on("save",t[11]),{c(){R(n.$$.fragment)},m(t,e){K(n,t,e),o=!0},p(t,o){const c={};!e&&1&o&&(e=!0,c.client=t[0],_(()=>e=!1)),n.$set(c)},i(t){o||(T(n.$$.fragment,t),o=!0)},o(t){L(n.$$.fragment,t),o=!1},d(t){V(n,t)}}}function Et(t){let n,e,o,c,r=JSON.stringify(t[18])+"";function i(...n){return t[13](t[18],...n)}return{c(){n=d("div"),e=p(r),$(n,"class","break-all")},m(t,r){a(t,n,r),s(n,e),o||(c=g(n,"click",i),o=!0)},p(n,o){t=n,2&o&&r!==(r=JSON.stringify(t[18])+"")&&h(e,r)},d(t){t&&u(n),o=!1,c()}}}function kt(t){let n,e,o,c,r=JSON.stringify(t[15])+"";function i(...n){return t[14](t[15],...n)}return{c(){n=d("div"),e=p(r),$(n,"class","break-all")},m(t,r){a(t,n,r),s(n,e),o||(c=g(n,"click",i),o=!0)},p(n,o){t=n,4&o&&r!==(r=JSON.stringify(t[15])+"")&&h(e,r)},d(t){t&&u(n),o=!1,c()}}}function wt(t){let n,e,o,c;const r=[Ot,Ct,yt,xt],i=[];function l(t,n){return t[5]?0:t[3]?1:t[4]?2:3}return e=l(t),o=i[e]=r[e](t),{c(){n=d("main"),o.c()},m(t,o){a(t,n,o),i[e].m(n,null),c=!0},p(t,[c]){let s=e;e=l(t),e===s?i[e].p(t,c):(F(),L(i[s],1,1,()=>{i[s]=null}),J(),o=i[e],o||(o=i[e]=r[e](t),o.c()),T(o,1),o.m(n,null))},i(t){c||(T(o),c=!0)},o(t){L(o),c=!1},d(t){t&&u(n),i[e].d()}}}function Nt(t,n,e){let o,c,r,i={},l=[],s=[];return[i,l,s,o,c,r,({detail:t})=>{if(!t)return e(3,o=void 0);let n;-1!==(n=l.findIndex(n=>n===t))?e(1,l=l):e(1,l=[...l,t])},()=>{e(3,o={})},({detail:t})=>{if(!t)return e(4,c=void 0);let n;-1!==(n=s.findIndex(n=>n===t))?e(2,s=s):e(2,s=[...s,t])},()=>{e(4,c={})},function(t){i=t,e(0,i)},()=>e(5,r=!r),()=>e(5,r=!r),t=>e(3,o=t),t=>e(4,c=t)]}return new class extends G{constructor(t){super(),z(this,t,Nt,wt,i,{})}}({target:document.body,props:{}})}();
